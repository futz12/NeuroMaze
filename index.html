<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NeuroMaze - è„‘åŠ›è®­ç»ƒæŒ‡å—</title>
    <style>
        :root {
            --primary: #3498db;
            --accent: #2ecc71;
            --bg-dark: #0f172a;
            --text-main: #f1f5f9;
            --text-sub: #94a3b8;
            --benefit-kid: rgba(52, 152, 219, 0.15);
            --benefit-elder: rgba(241, 196, 15, 0.15);
        }

        body {
            margin: 0;
            background-color: var(--bg-dark);
            font-family: 'Segoe UI', Roboto, sans-serif;
            color: var(--text-main);
            overflow: hidden;
            touch-action: pan-y; /* å…è®¸å‚ç›´æ»šåŠ¨ï¼Œç¦æ­¢æ°´å¹³æ»šåŠ¨å¹²æ‰°JS */
        }

        /* è½®æ’­å®¹å™¨ */
        .slider-viewport {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .slides-wrapper {
            display: flex;
            height: 100%;
            cursor: grab;
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .slides-wrapper:active {
            cursor: grabbing;
            transition: none; /* æ‹–æ‹½æ—¶ç§»é™¤è¿‡æ¸¡ï¼Œå®ç°è·Ÿæ‰‹ */
        }

        .slide {
            min-width: 100vw;
            height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        /* æ¼”ç¤ºåŒº (ä¸Šéƒ¨) */
        .demo-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-height: 35vh;
            margin-bottom: 20px;
        }

        .canvas-box {
            width: 320px;
            height: 220px;
            border-radius: 20px;
            background: rgba(0,0,0,0.3);
            border: 2px solid rgba(255,255,255,0.05);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* æ–‡æœ¬åŒº (ä¸­éƒ¨) */
        .text-area {
            text-align: center;
            margin-bottom: 20px;
        }

        h2 { margin: 0 0 10px 0; font-size: 28px; color: var(--primary); letter-spacing: 1px;}
        .desc { font-size: 16px; color: var(--text-sub); line-height: 1.5; max-width: 90%; margin: 0 auto; }

        /* ç›Šæ™ºåˆ†æåŒº (ä¸‹éƒ¨) */
        .benefits-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            width: 100%;
            max-width: 500px;
            margin-bottom: 30px;
        }

        .benefit-card {
            padding: 15px;
            border-radius: 16px;
            text-align: left;
            position: relative;
            border: 1px solid transparent;
        }

        .benefit-card.kid { background: var(--benefit-kid); border-color: rgba(52, 152, 219, 0.3); }
        .benefit-card.elder { background: var(--benefit-elder); border-color: rgba(241, 196, 15, 0.3); }

        .b-title { font-size: 12px; font-weight: bold; text-transform: uppercase; margin-bottom: 5px; display: block; opacity: 0.8;}
        .b-text { font-size: 13px; line-height: 1.4; font-weight: 500;}

        /* åº•éƒ¨æŒ‡ç¤ºå™¨ */
        .indicators {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 8px;
            z-index: 10;
        }

        .dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(255,255,255,0.2); transition: 0.3s; }
        .dot.active { width: 24px; border-radius: 4px; background: var(--primary); }

        /* å¼€å§‹æŒ‰é’® */
        .btn-start {
            margin-top: 10px;
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            color: white; border: none; 
            padding: 15px 60px; border-radius: 50px;
            font-size: 18px; font-weight: bold;
            box-shadow: 0 4px 20px rgba(46, 204, 113, 0.4);
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* æ»‘åŠ¨æç¤ºåŠ¨ç”» */
        .swipe-hint {
            position: absolute; top: 50%; right: 20px;
            color: rgba(255,255,255,0.3); font-size: 24px;
            animation: swipeAnim 1.5s infinite;
            pointer-events: none; z-index: 5;
        }
        @keyframes swipeAnim { 0% { transform: translateX(0); opacity: 0; } 50% { opacity: 1; } 100% { transform: translateX(-20px); opacity: 0; } }

    </style>
</head>
<body>

<div class="slider-viewport" id="viewport">
    <div class="slides-wrapper" id="wrapper">
        
        <div class="slide">
            <div class="demo-area"><canvas id="c1" class="canvas-box" width="320" height="220"></canvas></div>
            <div class="text-area">
                <h2>ä½“æ„Ÿå¹³è¡¡æ§åˆ¶</h2>
                <div class="desc">åŒæ‰‹æ¨ªæŒè®¾å¤‡ï¼Œåƒæ§åˆ¶çœŸå®æ‰˜ç›˜ä¸€æ ·<b>å€¾æ–œæ‰‹æœº</b>ã€‚<br>å‘å·¦å€¾æ–œå‘å·¦æ»šï¼Œå‘å‰å€¾æ–œåŠ é€Ÿã€‚</div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card kid">
                    <span class="b-title">ğŸ‘¶ å¯¹å„¿ç«¥</span>
                    <div class="b-text">è®­ç»ƒ<b>ç²¾ç»†è¿åŠ¨</b>æ§åˆ¶ä¸æ‰‹çœ¼åè°ƒï¼Œä¿ƒè¿›å°è„‘å‘è‚²ã€‚</div>
                </div>
                <div class="benefit-card elder">
                    <span class="b-title">ğŸ‘´ å¯¹é•¿è¾ˆ</span>
                    <div class="b-text">å…¨æ–°çš„äº¤äº’æ–¹å¼åˆºæ¿€<b>ç¥ç»å¯å¡‘æ€§</b>ï¼Œå»¶ç¼“è¿åŠ¨ç¥ç»è¡°é€€ã€‚</div>
                </div>
            </div>
            <div class="swipe-hint">ğŸ‘ˆ æ»‘åŠ¨</div>
        </div>

        <div class="slide">
            <div class="demo-area"><canvas id="c2" class="canvas-box" width="320" height="220"></canvas></div>
            <div class="text-area">
                <h2>é’¥åŒ™ä¸é—¨é”é€»è¾‘</h2>
                <div class="desc">è¿™ä¸åªæ˜¯è·‘é…·ã€‚é‡åˆ°çº¢é—¨æ—¶ï¼Œå¿…é¡»æŠ‘åˆ¶å†²åŠ¨ï¼Œ<br>å…ˆè§„åˆ’è·¯çº¿å»æ‹¾å– <span style="color:#f1c40f">ğŸ”‘é’¥åŒ™</span>ã€‚</div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card kid">
                    <span class="b-title">ğŸ‘¶ å¯¹å„¿ç«¥</span>
                    <div class="b-text">åŸ¹å…»<b>æŠ‘åˆ¶æ§åˆ¶</b>èƒ½åŠ›ï¼ˆå­¦ä¼šç­‰å¾…ï¼‰ä¸é€»è¾‘é¡ºåºæ€ç»´ã€‚</div>
                </div>
                <div class="benefit-card elder">
                    <span class="b-title">ğŸ‘´ å¯¹é•¿è¾ˆ</span>
                    <div class="b-text">æ‰“ç ´ç›´çº¿æ€ç»´ä¹ æƒ¯ï¼Œæ¿€æ´»<b>å‰é¢å¶çš®å±‚</b>ï¼ˆè´Ÿè´£å†³ç­–ä¸è§„åˆ’ï¼‰ã€‚</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="demo-area"><canvas id="c3" class="canvas-box" width="320" height="220"></canvas></div>
            <div class="text-area">
                <h2>èµ„æºç®¡ç†ä¸å•†åº—</h2>
                <div class="desc">é‡‘å¸æ˜¯ä¿å‘½èµ„æºï¼æ”¶é›†é‡‘å¸ï¼Œåœ¨åº•éƒ¨è´­ä¹°é“å…·ã€‚<br><b>ç›¾ç‰Œ(5å¸)</b>æŠµæŒ¡æ­»äº¡ï¼Œ<b>æ€¥å†»(3å¸)</b>ç¬é—´åˆ¹è½¦ã€‚</div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card kid">
                    <span class="b-title">ğŸ‘¶ å¯¹å„¿ç«¥</span>
                    <div class="b-text">å»ºç«‹åŸºç¡€çš„<b>æ•°å­¦ä¸ç»æµ</b>æ¦‚å¿µï¼Œå­¦ä¹ â€œç§¯ç´¯ä¸æ¶ˆè´¹â€ã€‚</div>
                </div>
                <div class="benefit-card elder">
                    <span class="b-title">ğŸ‘´ å¯¹é•¿è¾ˆ</span>
                    <div class="b-text">å¤šä»»åŠ¡å¤„ç†ï¼ˆç©æ¸¸æˆ+ç®—è´¦ï¼‰èƒ½æœ‰æ•ˆé”»ç‚¼<b>å·¥ä½œè®°å¿†</b>ã€‚</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="demo-area"><canvas id="c4" class="canvas-box" width="320" height="220"></canvas></div>
            <div class="text-area">
                <h2>ç‰©ç†åœ°å½¢æ„ŸçŸ¥</h2>
                <div class="desc">æ„Ÿå—ä¸åŒçš„é˜»åŠ›ï¼š<br><b>ğŸ§Š å†°é¢</b>ææ»‘éœ€é¢„åˆ¤ï¼Œ<b>ğŸ’© æ³¥æ²¼</b>ç²˜æ»éœ€ç”¨åŠ›ã€‚</div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card kid">
                    <span class="b-title">ğŸ‘¶ å¯¹å„¿ç«¥</span>
                    <div class="b-text">å¢å¼º<b>æ„Ÿè§‰ç»Ÿåˆ</b>èƒ½åŠ›ï¼Œæ ¹æ®ç¯å¢ƒåé¦ˆè°ƒæ•´è‚Œè‚‰åŠ›é‡ã€‚</div>
                </div>
                <div class="benefit-card elder">
                    <span class="b-title">ğŸ‘´ å¯¹é•¿è¾ˆ</span>
                    <div class="b-text">ä¿æŒå¤§è„‘å¯¹ç‰©ç†ç¯å¢ƒå˜åŒ–çš„<b>é€‚åº”æ€§æ€ç»´</b>ã€‚</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="demo-area"><canvas id="c5" class="canvas-box" width="320" height="220"></canvas></div>
            <div class="text-area">
                <h2>ç©ºé—´æŠ˜å  (è™«æ´)</h2>
                <div class="desc">è¿›å…¥ç´«è‰² <span style="color:#9b59b6">ğŸŒ€ ä¼ é€é—¨</span>ï¼Œç¬é—´è·¨è¶Šåœ°å›¾ã€‚<br>è·¯å¾„ä¸å†æ˜¯è¿ç»­çš„ï¼Œéœ€è¦å»ºç«‹è·³è·ƒæ€§æ€ç»´ã€‚</div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card kid">
                    <span class="b-title">ğŸ‘¶ å¯¹å„¿ç«¥</span>
                    <div class="b-text">è®­ç»ƒæŠ½è±¡çš„<b>ç©ºé—´æ¨ç†</b>èƒ½åŠ›ï¼Œç†è§£éçº¿æ€§è¿æ¥ã€‚</div>
                </div>
                <div class="benefit-card elder">
                    <span class="b-title">ğŸ‘´ å¯¹é•¿è¾ˆ</span>
                    <div class="b-text">å¼ºæ•ˆæ¿€æ´»<b>æµ·é©¬ä½“</b>ï¼ˆè´Ÿè´£ç©ºé—´å®šä½ï¼‰ï¼Œé¢„é˜²è¿·è·¯èµ°å¤±ã€‚</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="demo-area"><canvas id="c6" class="canvas-box" width="320" height="220"></canvas></div>
            <div class="text-area">
                <h2>è§†è§‰è®°å¿† (è¿·é›¾)</h2>
                <div class="desc">æ¯3å…³é™ä¸´è¿·é›¾ã€‚è§†é‡å—é™ï¼Œ<br>ä½ å¿…é¡»åœ¨è„‘æµ·ä¸­é‡æ„å¹¶<b>è®°ä½</b>åœ°å›¾çš„å…¨è²Œã€‚</div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card kid">
                    <span class="b-title">ğŸ‘¶ å¯¹å„¿ç«¥</span>
                    <div class="b-text">è®­ç»ƒ<b>ç‰©ä½“æ’å¸¸æ€§</b>ä¸è§†è§‰çŸ­æœŸè®°å¿†èƒ½åŠ›ã€‚</div>
                </div>
                <div class="benefit-card elder">
                    <span class="b-title">ğŸ‘´ å¯¹é•¿è¾ˆ</span>
                    <div class="b-text">å¯¹æŠ—çŸ­æœŸè®°å¿†è¡°é€€ï¼Œæ„å»º<b>å¿ƒç†åœ°å›¾(Mental Map)</b>ã€‚</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="demo-area"><canvas id="c7" class="canvas-box" width="320" height="220"></canvas></div>
            <div class="text-area">
                <h2>æƒ…ç»ªä¸é£é™©åšå¼ˆ</h2>
                <div class="desc">æ’å‡» <b>ğŸ é—®å·ç®±</b> æ˜¯ç¦æ˜¯ç¥¸ï¼Ÿ<br>å¯èƒ½å¾—é‡‘å¸ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´<b>æ“ä½œåå‘</b>ï¼</div>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card kid">
                    <span class="b-title">ğŸ‘¶ å¯¹å„¿ç«¥</span>
                    <div class="b-text">å­¦ä¹ <b>æƒ…ç»ªè°ƒèŠ‚</b>ï¼Œåœ¨å—æŒ«ï¼ˆå¦‚å„è¿ï¼‰æ—¶ä¿æŒå†·é™ã€‚</div>
                </div>
                <div class="benefit-card elder">
                    <span class="b-title">ğŸ‘´ å¯¹é•¿è¾ˆ</span>
                    <div class="b-text"><b>é£é™©è¯„ä¼°</b>è®­ç»ƒï¼Œæ´»è·ƒå¤šå·´èƒºå¥–èµå›è·¯ï¼Œæ”¹å–„æƒ…ç»ªã€‚</div>
                </div>
            </div>
            <button class="btn-start" onclick="enterGame()">å¼€å§‹æŒ‘æˆ˜</button>
        </div>

    </div>

    <div class="indicators" id="dotsContainer"></div>
</div>

<script>
    // --- æ‹–æ‹½ç¿»é¡µé€»è¾‘ ---
    const wrapper = document.getElementById('wrapper');
    const totalSlides = 7;
    let currentSlide = 0;
    
    let startX = 0;
    let currentX = 0;
    let isDragging = false;

    // åˆå§‹åŒ–ç‚¹
    const dotsContainer = document.getElementById('dotsContainer');
    for(let i=0; i<totalSlides; i++) {
        let dot = document.createElement('div');
        dot.className = `dot ${i===0?'active':''}`;
        dotsContainer.appendChild(dot);
    }
    const updateDots = () => {
        Array.from(dotsContainer.children).forEach((d, i) => d.className = `dot ${i===currentSlide?'active':''}`);
        // æœ€åä¸€é¡µéšè—æ»‘åŠ¨æç¤º
        document.querySelector('.swipe-hint').style.display = currentSlide === totalSlides-1 ? 'none' : 'block';
    }

    // è§¦æ‘¸äº‹ä»¶
    wrapper.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        isDragging = true;
        wrapper.style.transition = 'none'; // æ‹–åŠ¨æ—¶ç§»é™¤åŠ¨ç”»
    });

    wrapper.addEventListener('touchmove', (e) => {
        if (!isDragging) return;
        currentX = e.touches[0].clientX;
        let diff = currentX - startX;
        // è·Ÿæ‰‹æ•ˆæœ
        let translate = -currentSlide * 100;
        // ç®€å•çš„åƒç´ è½¬ç™¾åˆ†æ¯”ä¼°ç®— (è§†å£å®½åº¦)
        let percentDiff = (diff / window.innerWidth) * 100;
        wrapper.style.transform = `translateX(${translate + percentDiff}%)`;
    });

    wrapper.addEventListener('touchend', (e) => {
        isDragging = false;
        wrapper.style.transition = 'transform 0.4s cubic-bezier(0.25, 1, 0.5, 1)';
        let endX = e.changedTouches[0].clientX;
        let diff = endX - startX;

        if (diff < -50 && currentSlide < totalSlides - 1) {
            currentSlide++; // ä¸‹ä¸€é¡µ
        } else if (diff > 50 && currentSlide > 0) {
            currentSlide--; // ä¸Šä¸€é¡µ
        }
        
        wrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
        updateDots();
    });

    // é¼ æ ‡å…¼å®¹ (ç”¨äºPCæµ‹è¯•)
    wrapper.addEventListener('mousedown', e => { startX=e.clientX; isDragging=true; wrapper.style.transition='none'; });
    window.addEventListener('mousemove', e => {
        if(!isDragging) return;
        let diff = e.clientX - startX;
        let translate = -currentSlide * 100;
        let percentDiff = (diff / window.innerWidth) * 100;
        wrapper.style.transform = `translateX(${translate + percentDiff}%)`;
    });
    window.addEventListener('mouseup', e => {
        if(!isDragging) return;
        isDragging=false;
        wrapper.style.transition = 'transform 0.4s cubic-bezier(0.25, 1, 0.5, 1)';
        let diff = e.clientX - startX;
        if (diff < -50 && currentSlide < totalSlides - 1) currentSlide++;
        else if (diff > 50 && currentSlide > 0) currentSlide--;
        wrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
        updateDots();
    });

    function enterGame() {
        window.location.href = 'game.html'; 
    }


    // --- å®æ—¶ Canvas æ¼”ç¤ºå¼•æ“ ---
    function initDemo(id, renderFn) {
        const canvas = document.getElementById(id);
        const ctx = canvas.getContext('2d');
        let frame = 0;
        function loop() {
            ctx.clearRect(0, 0, 320, 220);
            renderFn(ctx, frame++);
            requestAnimationFrame(loop);
        }
        loop();
    }
    const drawBall = (ctx, x, y, color='#3498db', shield=false) => {
        if(shield) { ctx.beginPath(); ctx.arc(x, y, 16, 0, Math.PI*2); ctx.strokeStyle='rgba(52,152,219,0.8)'; ctx.lineWidth=3; ctx.stroke(); }
        ctx.beginPath(); ctx.arc(x, y, 12, 0, Math.PI*2);
        let g = ctx.createRadialGradient(x-4,y-4,2,x,y,12); g.addColorStop(0,'#85c1e9'); g.addColorStop(1,color);
        ctx.fillStyle = g; ctx.fill();
    };
    const drawIcon = (ctx,t,x,y,s=24) => { ctx.font=`${s}px Arial`; ctx.textAlign='center'; ctx.textBaseline='middle'; ctx.fillStyle='white'; ctx.fillText(t,x,y); };

    // 1. ä½“æ„Ÿ
    initDemo('c1', (ctx, f) => {
        let tilt = Math.sin(f*0.04)*0.2;
        ctx.save(); ctx.translate(160, 110); ctx.rotate(tilt);
        ctx.strokeStyle='rgba(255,255,255,0.6)'; ctx.lineWidth=4; ctx.strokeRect(-60,-90,120,180);
        drawBall(ctx, tilt*150, 40);
        if(tilt>0.05) drawIcon(ctx,'â—€ï¸',-80,0,30); if(tilt<-0.05) drawIcon(ctx,'â–¶ï¸',80,0,30);
        ctx.restore();
    });

    // 2. é’¥åŒ™
    initDemo('c2', (ctx, f) => {
        let c = f % 360;
        let x=0, y=110;
        if(c<120) x = 50 + (c/120)*200;
        else if(c<240) x = 250 - ((c-120)/120)*100;
        else { x=150; y=110 - ((c-240)/120)*80; }

        if(c<120) drawIcon(ctx,'ğŸ”‘',250,110,30);
        if(c<120) { ctx.fillStyle='#c0392b'; ctx.fillRect(130,60,40,15); drawIcon(ctx,'ğŸ”’',150,68,16); }
        else { ctx.strokeStyle='rgba(255,255,255,0.5)'; ctx.setLineDash([5,5]); ctx.strokeRect(130,60,40,15); ctx.setLineDash([]); }
        
        ctx.beginPath(); ctx.arc(150,30,20,0,Math.PI*2); ctx.fillStyle='#2ecc71'; ctx.fill();
        drawBall(ctx, x, y);
    });

    // 3. ç»æµ (å•†åº—)
    initDemo('c3', (ctx, f) => {
        let c = f % 350;
        ctx.fillStyle='rgba(0,0,0,0.5)'; ctx.fillRect(0,160,320,60); // Shop UI
        
        let coins=4, hasShield=false, bx=50;
        if(c>100) coins=5; if(c>200) { coins=0; hasShield=true; }
        
        if(c<100) bx=50+c; else bx=150+Math.sin(f*0.1)*5;
        
        drawBall(ctx, bx, 80, '#3498db', hasShield);
        
        if(c<100) drawIcon(ctx,'ğŸŸ¡',150,80,24); else if(c<130) { ctx.font='bold 16px Arial'; ctx.fillStyle='#f1c40f'; ctx.fillText("+1", 150, 80-(c-100)); }

        // UI
        drawIcon(ctx,'ğŸŸ¡',40,190,20); ctx.font='18px Arial'; ctx.fillStyle='white'; ctx.fillText(`x ${coins}`, 75, 192);
        
        let btnCol = coins>=5 ? '#27ae60' : '#555';
        if(c>190 && c<210) btnCol = '#fff'; // Click
        ctx.fillStyle=btnCol; ctx.beginPath(); ctx.roundRect(190,170,100,40,10); ctx.fill();
        drawIcon(ctx,'ğŸ›¡ï¸',215,190,20); ctx.font='bold 14px Arial'; ctx.fillStyle='white'; ctx.fillText("5 å¸", 260, 192);
    });

    // 4. åœ°å½¢
    initDemo('c4', (ctx, f) => {
        ctx.fillStyle='rgba(135, 206, 250, 0.4)'; ctx.fillRect(30,50,260,50); drawIcon(ctx,'â„ï¸',270,75,24);
        ctx.fillStyle='rgba(121, 85, 72, 0.4)'; ctx.fillRect(30,130,260,50); drawIcon(ctx,'ğŸ’©',270,155,24);
        let x1=(f*5)%400, x2=(f*1.5)%400;
        if(x1<290) drawBall(ctx, 30+x1, 75, '#3498db');
        if(x2<290) drawBall(ctx, 30+x2, 155, '#e67e22');
    });

    // 5. è™«æ´ (ç‹¬ç«‹)
    initDemo('c5', (ctx, f) => {
        let c = f % 240;
        ctx.beginPath(); ctx.arc(60,110,24,0,Math.PI*2); ctx.fillStyle='#9b59b6'; ctx.fill();
        ctx.beginPath(); ctx.arc(260,110,24,0,Math.PI*2); ctx.fillStyle='#8e44ad'; ctx.fill();
        let bx, a=1;
        if(c<60) bx=c; 
        else if(c<80) { bx=60; a=1-(c-60)/20; }
        else if(c<100) { bx=260; a=(c-80)/20; }
        else bx=260+(c-100);
        ctx.globalAlpha=a; drawBall(ctx, bx, 110); ctx.globalAlpha=1;
    });

    // 6. è¿·é›¾ (ç‹¬ç«‹)
    initDemo('c6', (ctx, f) => {
        // ç”»åœ°å›¾
        ctx.fillStyle='#795548'; ctx.fillRect(50,50,20,120); ctx.fillRect(250,50,20,120); ctx.fillRect(50,110,220,20);
        let bx = 160 + Math.sin(f*0.05)*100;
        let by = 110 + Math.cos(f*0.05)*40;
        drawBall(ctx, bx, by);

        // è¿·é›¾é®ç½©
        let g = ctx.createRadialGradient(bx,by,40,bx,by,180);
        g.addColorStop(0,'transparent'); g.addColorStop(1,'rgba(26,37,58,0.98)');
        ctx.fillStyle=g; ctx.fillRect(0,0,320,220);
        ctx.font='16px Arial'; ctx.fillStyle='rgba(255,255,255,0.4)'; ctx.fillText("è¿·é›¾æ¨¡å¼", 160, 190);
    });

    // 7. ç›²ç›’
    initDemo('c7', (ctx, f) => {
        let c = f % 200;
        let hit = c > 80;
        if(!hit) {
            ctx.fillStyle='#f39c12'; ctx.fillRect(142,92,36,36); drawIcon(ctx,'?',160,110);
            drawBall(ctx, 50+c, 110);
        } else {
            let bad = (Math.floor(f/200)%2)===1;
            ctx.font='40px Arial'; ctx.fillStyle=bad?'#e74c3c':'#f1c40f'; 
            ctx.fillText(bad?"ğŸ˜ˆ":"ğŸ’°", 160, 100-(c-80));
            drawBall(ctx, 130-(c-80), 110, bad?'#e74c3c':'#3498db');
        }
    });

</script>
</body>
</html>
