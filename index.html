<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NeuroMaze - ç©æ³•å‘å¯¼</title>
    <style>
        :root {
            --primary: #3498db;
            --bg-dark: #1a253a;
            --glass: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
        }

        body {
            margin: 0;
            background-color: var(--bg-dark);
            font-family: 'Segoe UI', Roboto, sans-serif;
            color: var(--text);
            overflow: hidden;
        }

        /* è½®æ’­å®¹å™¨ */
        .slider-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .slides-wrapper {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            height: 100%;
            width: 100%;
        }

        .slide {
            min-width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }

        /* å†…å®¹å¡ç‰‡ */
        .content-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 30px 20px;
            width: 100%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* æ¼”ç¤ºç”»å¸ƒåŒº */
        .demo-canvas-container {
            width: 280px;
            height: 180px;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }

        h2 { margin: 0 0 10px 0; font-size: 24px; color: #3498db; }
        p { margin: 0 0 15px 0; font-size: 14px; line-height: 1.6; color: rgba(255,255,255,0.8); }

        .science-badge {
            display: inline-block;
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        /* åº•éƒ¨å¯¼èˆªæ§ä»¶ */
        .controls {
            position: absolute;
            bottom: 30px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
            box-sizing: border-box;
            z-index: 10;
        }

        .dots { display: flex; gap: 8px; }
        .dot { width: 8px; height: 8px; border-radius: 50%; background: rgba(255,255,255,0.3); transition: all 0.3s; }
        .dot.active { background: var(--primary); width: 20px; border-radius: 4px; }

        .btn { background: none; border: none; color: white; font-size: 16px; cursor: pointer; padding: 10px 20px; opacity: 0.7; }
        .btn-primary { background: var(--primary); border-radius: 20px; opacity: 1; font-weight: bold; box-shadow: 0 4px 10px rgba(52, 152, 219, 0.4); }

    </style>
</head>
<body>

<div class="slider-container">
    <div class="slides-wrapper" id="wrapper">
        
        <div class="slide">
            <div class="content-card">
                <div class="demo-canvas-container"><canvas id="canvas1" width="280" height="180"></canvas></div>
                <div class="science-badge">ğŸ§  è®­ç»ƒï¼šæ„Ÿè§‰ç»Ÿåˆ & ç²¾ç»†è¿åŠ¨</div>
                <h2>ä½“æ„Ÿæ§åˆ¶</h2>
                <p>åŒæ‰‹æ¨ªæŒè®¾å¤‡ã€‚å‘å·¦å€¾æ–œï¼Œçƒå‘å·¦æ»šï¼›å‘å‰å€¾æ–œï¼Œçƒå‘ä¸‹æ»šã€‚<br>ä½ éœ€è¦æé«˜çš„æ‰‹çœ¼åè°ƒèƒ½åŠ›æ¥æ§åˆ¶å¹³è¡¡ã€‚</p>
            </div>
        </div>

        <div class="slide">
            <div class="content-card">
                <div class="demo-canvas-container"><canvas id="canvas2" width="280" height="180"></canvas></div>
                <div class="science-badge">ğŸ§  è®­ç»ƒï¼šé€»è¾‘è§„åˆ’ & æŠ‘åˆ¶æ§åˆ¶</div>
                <h2>é’¥åŒ™ä¸é—¨é”</h2>
                <p>è¿™ä¸æ˜¯å•çº¯çš„è·‘é…·ã€‚çº¢é—¨æŒ¡è·¯æ—¶ï¼Œå¿…é¡»å…ˆè§„åˆ’è·¯çº¿å»æ‹¾å– <span style="color:gold">ğŸ”‘é’¥åŒ™</span>ã€‚<br>ä¸è¦æ€¥ç€å†²å‘ç»ˆç‚¹ï¼Œè§‚å¯Ÿå…¨å±€ã€‚</p>
            </div>
        </div>

        <div class="slide">
            <div class="content-card">
                <div class="demo-canvas-container"><canvas id="canvas_shop" width="280" height="180"></canvas></div>
                <div class="science-badge">ğŸ§  è®­ç»ƒï¼šèµ„æºç®¡ç† & å†³ç­–åˆ¶å®š</div>
                <h2>é‡‘å¸ä¸ç­–ç•¥å•†åº—</h2>
                <p>é‡‘å¸ä¸åªæ˜¯åˆ†æ•°ï¼æ”¶é›†é‡‘å¸å¯åœ¨åº•éƒ¨å•†åº—è´­ä¹°<b>é“å…·</b>ã€‚<br>
                ğŸ›¡ï¸ <b>æŠ¤ç›¾</b>ï¼šæŠµæŒ¡ä¸€æ¬¡æ­»äº¡ (5å¸)<br>
                â„ï¸ <b>æ€¥å†»</b>ï¼šç¬é—´åˆ¹è½¦ (3å¸)</p>
            </div>
        </div>

        <div class="slide">
            <div class="content-card">
                <div class="demo-canvas-container"><canvas id="canvas3" width="280" height="180"></canvas></div>
                <div class="science-badge">ğŸ§  è®­ç»ƒï¼šé€‚åº”æ€§æ€ç»´ & ååº”åŠ›</div>
                <h2>å¤æ‚åœ°å½¢</h2>
                <p><b>ğŸ§Š å†°é¢</b>ï¼šæåº¦é¡ºæ»‘ï¼Œéš¾ä»¥åˆ¹è½¦ã€‚<br><b>ğŸ’© æ³¥æ²¼</b>ï¼šå¯¸æ­¥éš¾è¡Œï¼Œç§»åŠ¨ç¼“æ…¢ã€‚<br>æ ¹æ®åœ°é¢åé¦ˆå®æ—¶è°ƒæ•´å€¾æ–œåŠ›åº¦ã€‚</p>
            </div>
        </div>

        <div class="slide">
            <div class="content-card">
                <div class="demo-canvas-container"><canvas id="canvas4" width="280" height="180"></canvas></div>
                <div class="science-badge">ğŸ§  è®­ç»ƒï¼šç©ºé—´æŠ˜å  & å·¥ä½œè®°å¿†</div>
                <h2>è™«æ´ä¸è¿·é›¾</h2>
                <p>è¿›å…¥ <span style="color:#9b59b6">ğŸŒ€ ä¼ é€é—¨</span> ç¬é—´è·¨è¶Šåœ°å›¾ã€‚<br>æ³¨æ„ï¼šæ¯3å…³ä¼šé™ä¸´<b>è¿·é›¾</b>ï¼Œé®æŒ¡è§†é‡ï¼Œè¯·åŠ¡å¿…è®°ä½åœ°å›¾å…¨è²Œï¼</p>
            </div>
        </div>

        <div class="slide">
            <div class="content-card">
                <div class="demo-canvas-container"><canvas id="canvas5" width="280" height="180"></canvas></div>
                <div class="science-badge">ğŸ§  è®­ç»ƒï¼šé£é™©è¯„ä¼° & æƒ…ç»ªè°ƒèŠ‚</div>
                <h2>æœºé‡ä¸é£é™©</h2>
                <p>æ’å‡» <b>ğŸ é—®å·ç®±</b> å¯èƒ½ä¼šè·å¾—é‡‘å¸æˆ–æŠ¤ç›¾ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´<b>æ“ä½œåå‘</b>ï¼<br>ä½ å‡†å¤‡å¥½æŒ‘æˆ˜å¤§è„‘æé™äº†å—ï¼Ÿ</p>
                <button class="btn btn-primary" onclick="enterGame()" style="margin-top:10px; width:100%;">å¼€å§‹æ¸¸æˆ</button>
            </div>
        </div>

    </div>

    <div class="controls">
        <button class="btn" id="btnSkip" onclick="enterGame()">è·³è¿‡</button>
        <div class="dots" id="dotsContainer"></div>
        <button class="btn" id="btnNext" onclick="nextSlide()">ä¸‹ä¸€æ­¥</button>
    </div>
</div>

<script>
    // --- è½®æ’­é€»è¾‘ ---
    let currentSlide = 0;
    const totalSlides = 6; // æ›´æ–°ä¸º6é¡µ
    const wrapper = document.getElementById('wrapper');
    const dotsContainer = document.getElementById('dotsContainer');

    for(let i=0; i<totalSlides; i++) {
        let dot = document.createElement('div');
        dot.className = `dot ${i===0?'active':''}`;
        dotsContainer.appendChild(dot);
    }

    function updateSlide() {
        wrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
        Array.from(dotsContainer.children).forEach((d, i) => d.className = `dot ${i===currentSlide?'active':''}`);
        const btnNext = document.getElementById('btnNext');
        const btnSkip = document.getElementById('btnSkip');
        if (currentSlide === totalSlides - 1) {
            btnNext.style.display = 'none';
            btnSkip.style.display = 'none';
        } else {
            btnNext.style.display = 'block';
            btnSkip.style.display = 'block';
        }
    }

    function nextSlide() {
        if (currentSlide < totalSlides - 1) { currentSlide++; updateSlide(); }
    }

    function enterGame() {
        // !!! è¿™é‡Œä¿®æ”¹ä¸ºä½ çš„æ¸¸æˆæ–‡ä»¶å !!!
        window.location.href = 'game.html'; 
    }

    // è§¦æ‘¸æ»‘åŠ¨æ”¯æŒ
    let touchStartX = 0;
    wrapper.addEventListener('touchstart', e => touchStartX = e.touches[0].clientX);
    wrapper.addEventListener('touchend', e => {
        let touchEndX = e.changedTouches[0].clientX;
        if (touchStartX - touchEndX > 50) nextSlide();
        if (touchEndX - touchStartX > 50 && currentSlide > 0) { currentSlide--; updateSlide(); }
    });

    // --- åŠ¨ç”»å¼•æ“ ---
    function initDemo(id, renderFn) {
        const canvas = document.getElementById(id);
        const ctx = canvas.getContext('2d');
        let frameCount = 0;
        function loop() {
            ctx.clearRect(0, 0, 280, 180);
            renderFn(ctx, frameCount++);
            requestAnimationFrame(loop);
        }
        loop();
    }

    // ç»˜å›¾å·¥å…·
    const drawBall = (ctx, x, y, color='#3498db', shield=false) => {
        if(shield) {
            ctx.beginPath(); ctx.arc(x, y, 14, 0, Math.PI*2); 
            ctx.strokeStyle='rgba(52,152,219,0.6)'; ctx.lineWidth=2; ctx.stroke();
        }
        ctx.beginPath(); ctx.arc(x, y, 10, 0, Math.PI*2);
        ctx.fillStyle = color; ctx.fill();
        ctx.beginPath(); ctx.arc(x-3, y-3, 3, 0, Math.PI*2); ctx.fillStyle='rgba(255,255,255,0.5)'; ctx.fill();
    };
    const drawIcon = (ctx, txt, x, y, size=20) => { ctx.font=`${size}px Arial`; ctx.fillStyle='white'; ctx.fillText(txt, x-size/2, y+size/3); };

    // --- Slide 1: æ§åˆ¶ ---
    initDemo('canvas1', (ctx, f) => {
        let tilt = Math.sin(f * 0.05) * 0.3; 
        ctx.save(); ctx.translate(140, 90); ctx.rotate(tilt);
        ctx.strokeStyle = 'white'; ctx.lineWidth = 4;
        ctx.strokeRect(-40, -70, 80, 140); ctx.fillStyle = 'rgba(255,255,255,0.1)'; ctx.fillRect(-40, -70, 80, 140);
        drawBall(ctx, tilt * 80, 30);
        if(tilt > 0.1) drawIcon(ctx, 'â¬…ï¸', -60, 0); if(tilt < -0.1) drawIcon(ctx, 'â¡ï¸', 60, 0);
        ctx.restore();
    });

    // --- Slide 2: é’¥åŒ™ ---
    initDemo('canvas2', (ctx, f) => {
        let cycle = f % 300;
        let ballX = 0, ballY = 90;
        if (cycle < 100) { ballX = 40 + (cycle/100) * 200; } 
        else if (cycle < 200) { ballX = 240 - ((cycle-100)/100) * 100; } 
        else { ballX = 140; ballY = 90 - ((cycle-200)/100) * 80; }
        if(cycle < 100) drawIcon(ctx, 'ğŸ”‘', 240, 90);
        if(cycle < 100) { ctx.fillStyle = '#e74c3c'; ctx.fillRect(120, 40, 40, 10); drawIcon(ctx, 'ğŸ”’', 140, 60); } 
        else { ctx.strokeStyle = '#fff'; ctx.setLineDash([4,4]); ctx.strokeRect(120, 40, 40, 10); ctx.setLineDash([]); }
        ctx.beginPath(); ctx.arc(140, 20, 15, 0, Math.PI*2); ctx.fillStyle='#2ecc71'; ctx.fill();
        drawBall(ctx, ballX, ballY);
    });

    // --- Slide 3: å•†åº—æ¼”ç¤º (NEW!) ---
    initDemo('canvas_shop', (ctx, f) => {
        let cycle = f % 250;
        
        // æ¨¡æ‹ŸUIæ 
        ctx.fillStyle = 'rgba(0,0,0,0.5)'; ctx.fillRect(0, 140, 280, 40);
        
        // çŠ¶æ€å®šä¹‰
        let coins = 4;
        let hasShield = false;
        let ballX = 40;
        
        if (cycle > 60) { coins = 5; } // æ¡åˆ°é‡‘å¸
        if (cycle > 120) { coins = 0; hasShield = true; } // ä¹°äº†æŠ¤ç›¾

        // 1. ç”»çƒ
        if (cycle < 60) ballX = 40 + cycle; // ç§»åŠ¨å»åƒå¸
        else ballX = 100 + Math.sin(f*0.1)*10; // åœåœ¨ä¸­é—´æ™ƒåŠ¨
        
        drawBall(ctx, ballX, 80, '#3498db', hasShield);

        // 2. ç”»é‡‘å¸ (è¢«åƒæ‰å‰)
        if (cycle < 60) {
            drawIcon(ctx, 'ğŸŸ¡', 100, 80);
        } else if (cycle < 80) {
            // é£˜å­— +1
            ctx.font='14px Arial'; ctx.fillStyle='#f1c40f'; ctx.fillText("+1", 100, 80 - (cycle-60));
        }

        // 3. ç”»å•†åº—UI
        // é‡‘å¸æ•°
        drawIcon(ctx, 'ğŸŸ¡', 30, 160, 14);
        ctx.font='14px Arial'; ctx.fillStyle='white'; ctx.fillText(`x ${coins}`, 45, 165);

        // è´­ä¹°æŒ‰é’® (Shield, Price: 5)
        let canAfford = coins >= 5;
        let btnColor = canAfford ? '#27ae60' : 'rgba(255,255,255,0.2)';
        
        // è´­ä¹°åŠ¨ä½œæ¨¡æ‹Ÿ (ç‚¹å‡»æ•ˆæœ)
        if (cycle > 115 && cycle < 125) btnColor = '#fff'; 

        ctx.fillStyle = btnColor;
        ctx.beginPath(); ctx.roundRect(180, 145, 60, 30, 5); ctx.fill();
        drawIcon(ctx, 'ğŸ›¡ï¸', 195, 160, 16);
        ctx.font='10px Arial'; ctx.fillStyle='white'; ctx.fillText("5", 215, 163);

        // è´­ä¹°åçš„æç¤º
        if (cycle > 120 && cycle < 160) {
            ctx.font='12px Arial'; ctx.fillStyle='#2ecc71'; ctx.fillText("Equipped!", 180, 135);
        }
    });

    // --- Slide 4: åœ°å½¢ ---
    initDemo('canvas3', (ctx, f) => {
        ctx.fillStyle = 'rgba(135, 206, 250, 0.5)'; ctx.fillRect(20, 40, 240, 40); 
        drawIcon(ctx, 'â„ï¸', 260, 60);
        ctx.fillStyle = 'rgba(121, 85, 72, 0.5)'; ctx.fillRect(20, 100, 240, 40);
        drawIcon(ctx, 'ğŸ’©', 260, 120);
        let xIce = (f * 4) % 320; 
        let xMud = (f * 1.5) % 320; 
        if (xIce < 280) drawBall(ctx, xIce, 60, '#3498db');
        if (xMud < 280) drawBall(ctx, xMud, 120, '#e67e22');
    });

    // --- Slide 5: è™«æ´ ---
    initDemo('canvas4', (ctx, f) => {
        let cycle = f % 200;
        ctx.beginPath(); ctx.arc(60, 90, 20, 0, Math.PI*2); ctx.fillStyle='#9b59b6'; ctx.fill();
        ctx.beginPath(); ctx.arc(220, 90, 20, 0, Math.PI*2); ctx.fillStyle='#8e44ad'; ctx.fill();
        let bx, alpha = 1;
        if (cycle < 60) bx = cycle; 
        else if (cycle < 80) { bx = 60; alpha = 1 - (cycle-60)/20; } 
        else if (cycle < 100) { bx = 220; alpha = (cycle-80)/20; } 
        else bx = 220 + (cycle-100);
        ctx.globalAlpha = alpha; drawBall(ctx, bx, 90); ctx.globalAlpha = 1;
        if (f % 400 > 200) {
            let g = ctx.createRadialGradient(140, 90, 30, 140, 90, 150);
            g.addColorStop(0, 'transparent'); g.addColorStop(1, 'rgba(20,20,30,0.9)');
            ctx.fillStyle = g; ctx.fillRect(0,0,280,180);
            ctx.fillStyle = 'white'; ctx.font='12px Arial'; ctx.fillText("è¿·é›¾æ¨¡å¼", 130, 160);
        }
    });

    // --- Slide 6: ç›²ç›’ ---
    initDemo('canvas5', (ctx, f) => {
        let cycle = f % 200;
        let boxX = 140, hit = cycle > 80;
        if (!hit) {
            ctx.fillStyle = '#f39c12'; ctx.fillRect(boxX-15, 75, 30, 30); drawIcon(ctx, '?', boxX, 90);
            drawBall(ctx, 40 + cycle, 90);
        } else {
            ctx.font = '30px Arial'; 
            if ((f/200)%2 < 1) ctx.fillText("ğŸ’°", 130, 80 - (cycle-80)); 
            else ctx.fillText("ğŸ˜ˆ", 130, 80 - (cycle-80));
            drawBall(ctx, 120 - (cycle-80), 90, (f/200)%2 >= 1 ? '#e74c3c' : '#3498db');
        }
    });

</script>
</body>
</html>
