<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NeuroMaze - æ·±åº¦å‘å¯¼</title>
    <style>
        :root {
            --primary: #3498db;
            --accent: #2ecc71;
            --dark: #1e272e;
            --text-main: #ecf0f1;
            --text-sub: #bdc3c7;
            --glass: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
        }

        body {
            margin: 0;
            background-color: var(--dark);
            font-family: 'Segoe UI', Roboto, sans-serif;
            color: var(--text-main);
            overflow: hidden;
        }

        /* è½®æ’­å®¹å™¨ */
        .slider-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .slides-wrapper {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .slide {
            min-width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            box-sizing: border-box;
        }

        /* æ ¸å¿ƒå¸ƒå±€ï¼šå·¦å³åˆ†æ å¡ç‰‡ */
        .slide-content {
            display: flex;
            flex-direction: row;
            width: 100%;
            max-width: 1100px;
            height: 85vh;
            background: rgba(30, 39, 46, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid var(--border);
            overflow: hidden;
            box-shadow: 0 30px 60px rgba(0,0,0,0.6);
        }

        /* å·¦ä¾§ï¼šæ–‡å­—ä¸ç†è®º */
        .text-col {
            flex: 1;
            padding: 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border-right: 1px solid var(--border);
            position: relative;
            z-index: 2;
        }

        /* å³ä¾§ï¼šå®æ—¶æ¼”ç¤º */
        .visual-col {
            flex: 1.2;
            background: radial-gradient(circle at center, rgba(52, 152, 219, 0.1) 0%, transparent 70%);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* æ¼”ç¤ºç”»å¸ƒ */
        canvas {
            border-radius: 16px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
            border: 1px solid var(--border);
            background: rgba(0,0,0,0.2);
            max-width: 90%;
            max-height: 90%;
        }

        /* æ’ç‰ˆæ ·å¼ */
        .step-num { font-size: 0.9rem; letter-spacing: 2px; color: var(--primary); font-weight: bold; margin-bottom: 10px; display: block; text-transform: uppercase; }
        h2 { font-size: 2.5rem; margin: 0 0 20px 0; background: linear-gradient(135deg, #fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        p { font-size: 1.1rem; line-height: 1.7; color: var(--text-sub); margin-bottom: 30px; }
        
        /* ç§‘å­¦åŸç†ç›’å­ */
        .science-box {
            background: rgba(46, 204, 113, 0.08);
            border-left: 4px solid var(--accent);
            padding: 20px;
            border-radius: 0 12px 12px 0;
            margin-top: auto;
        }
        .science-title { color: var(--accent); font-weight: bold; font-size: 0.9rem; margin-bottom: 6px; display: block; text-transform: uppercase; }
        .science-desc { font-size: 0.95rem; color: #fff; opacity: 0.9; line-height: 1.4; }

        /* åº•éƒ¨å¯¼èˆªæ¡ */
        .controls {
            position: absolute;
            bottom: 40px; left: 0; width: 100%;
            display: flex; justify-content: center; align-items: center; gap: 30px;
            z-index: 100;
            pointer-events: none; /* è®©ç‚¹å‡»ç©¿é€åˆ°æŒ‰é’® */
        }
        .controls > * { pointer-events: auto; }

        .dot-nav { display: flex; gap: 12px; }
        .dot { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,0.2); transition: 0.3s; cursor: pointer; }
        .dot.active { background: var(--primary); transform: scale(1.4); box-shadow: 0 0 10px var(--primary); }

        .btn-nav {
            padding: 12px 35px; border-radius: 50px; border: 1px solid var(--border);
            background: rgba(0,0,0,0.4); color: white; cursor: pointer; transition: 0.3s;
            font-size: 1rem; backdrop-filter: blur(5px); display: flex; align-items: center; gap: 10px;
        }
        .btn-nav:hover { background: var(--primary); border-color: var(--primary); transform: translateY(-2px); }
        
        .btn-start {
            background: linear-gradient(90deg, #27ae60, #2ecc71); border: none;
            padding: 18px 60px; font-weight: bold; font-size: 1.2rem; box-shadow: 0 10px 30px rgba(46,204,113,0.3);
            text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-start:active { transform: scale(0.98); }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 900px) {
            .slide-content { flex-direction: column-reverse; height: 95vh; max-height: none; border-radius: 0; border: none; }
            .text-col { flex: 1; padding: 30px; border-right: none; border-top: 1px solid var(--border); }
            .visual-col { flex: 0.8; padding: 20px; background: none; }
            h2 { font-size: 2rem; margin-bottom: 15px; }
            p { font-size: 1rem; margin-bottom: 20px; }
            .science-box { padding: 15px; }
            .controls { bottom: 20px; }
        }
    </style>
</head>
<body>

<div class="slider-container">
    <div class="slides-wrapper" id="wrapper">

        <div class="slide">
            <div class="slide-content">
                <div class="text-col">
                    <span class="step-num">Step 01</span>
                    <h2>ä½“æ„Ÿæ“æ§</h2>
                    <p>å‘Šåˆ«æŒ‰é”®ã€‚åŒæ‰‹æ¨ªæŒè®¾å¤‡ï¼Œåƒæ§åˆ¶çœŸå®çš„å¹³è¡¡ç›˜ä¸€æ ·<b>å€¾æ–œæ‰‹æœº</b>ã€‚<br>å‘å·¦å€¾æ–œï¼Œçƒå‘å·¦æ»šï¼›å‘å‰å€¾æ–œï¼Œçƒå‘ä¸‹æ»šã€‚ä½ éœ€è¦æé«˜çš„æ‰‹çœ¼åè°ƒèƒ½åŠ›æ¥ä¿æŒå¹³è¡¡ã€‚</p>
                    <div class="science-box">
                        <span class="science-title">ğŸ§  ç§‘å­¦åŸç†ï¼šæ„Ÿè§‰ç»Ÿåˆ</span>
                        <span class="science-desc">å»ºç«‹è§†è§‰è¾“å…¥ä¸æ‰‹è…•æœ¬ä½“æ„Ÿè§‰çš„æ¯«ç§’çº§ç¥ç»è¿æ¥ï¼Œä¿ƒè¿›å°è„‘ä¸è¿åŠ¨çš®å±‚å‘è‚²ï¼Œæå‡ç²¾ç»†è¿åŠ¨æ§åˆ¶åŠ›ã€‚</span>
                    </div>
                </div>
                <div class="visual-col">
                    <canvas id="canvas1"></canvas>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="slide-content">
                <div class="text-col">
                    <span class="step-num">Step 02</span>
                    <h2>é€»è¾‘è§„åˆ’</h2>
                    <p>è¿™ä¸æ˜¯ç›´çº¿è·‘é…·ã€‚é‡åˆ°çº¢é—¨ <span style="font-size:1.2rem">ğŸ”’</span> æŒ¡è·¯æ—¶ï¼Œä¸å¯ç¡¬é—¯ã€‚<br>ä½ å¿…é¡»è§‚å¯Ÿå…¨å›¾ï¼Œè§„åˆ’è·¯çº¿å»æ‹¾å– <span style="color:#f1c40f">ğŸ”‘ é’¥åŒ™</span>ï¼Œé—¨æ‰ä¼šå¼€å¯ã€‚</p>
                    <div class="science-box">
                        <span class="science-title">ğŸ§  ç§‘å­¦åŸç†ï¼šæ‰§è¡ŒåŠŸèƒ½</span>
                        <span class="science-desc">æ‰“ç ´â€œç›´çº¿æœ€çŸ­â€çš„æœ¬èƒ½æ€ç»´ï¼Œè®­ç»ƒå‰é¢å¶çš®å±‚çš„æŠ‘åˆ¶æ§åˆ¶ï¼ˆInhibitory Controlï¼‰ä¸å¤šæ­¥éª¤è§„åˆ’èƒ½åŠ›ã€‚</span>
                    </div>
                </div>
                <div class="visual-col">
                    <canvas id="canvas2"></canvas>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="slide-content">
                <div class="text-col">
                    <span class="step-num">Step 03</span>
                    <h2>èµ„æºç­–ç•¥</h2>
                    <p>é‡‘å¸ä¸ä»…ä»…æ˜¯åˆ†æ•°ï¼Œæ›´æ˜¯ç”Ÿå­˜èµ„æºï¼<br>
                    æ”¶é›† <span style="color:#f1c40f">ğŸŸ¡ é‡‘å¸</span>ï¼Œå½“åº•éƒ¨å•†åº—å›¾æ ‡äº®èµ·æ—¶ï¼Œç‚¹å‡»è´­ä¹°å…³é”®é“å…·ï¼š<br><br>
                    ğŸ›¡ï¸ <b>æŠ¤ç›¾ (5å¸)</b>ï¼šæŠµæŒ¡ä¸€æ¬¡æ­»äº¡<br>
                    â„ï¸ <b>æ€¥å†» (3å¸)</b>ï¼šç¬é—´åˆ¹è½¦é˜²æ­¢æ»‘è½</p>
                    <div class="science-box">
                        <span class="science-title">ğŸ§  ç§‘å­¦åŸç†ï¼šå†³ç­–åˆ¶å®š</span>
                        <span class="science-desc">"ç°åœ¨ä¹°ç›¾ä¿å‘½ï¼Œè¿˜æ˜¯æ”’é’±ä¹°æ›´è´µçš„è¯æ°´ï¼Ÿ" è¿™ç§å³æ—¶èµ„æºåˆ†é…å†³ç­–èƒ½æœ‰æ•ˆæ¿€æ´»é«˜çº§è®¤çŸ¥å‚¨å¤‡ã€‚</span>
                    </div>
                </div>
                <div class="visual-col">
                    <canvas id="canvas3"></canvas>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="slide-content">
                <div class="text-col">
                    <span class="step-num">Step 04</span>
                    <h2>ç¯å¢ƒé€‚åº”</h2>
                    <p>æ„Ÿå—çœŸå®çš„ç‰©ç†é˜»åŠ›å˜åŒ–ï¼š<br>
                    ğŸ§Š <b>å†°é¢</b>ï¼šæ‘©æ“¦åŠ›æä½ï¼Œé€Ÿåº¦æå¿«ï¼Œéš¾ä»¥åˆ¹è½¦ã€‚<br>
                    ğŸ’© <b>æ³¥æ²¼</b>ï¼šé˜»åŠ›å·¨å¤§ï¼Œç§»åŠ¨ç¼“æ…¢ï¼Œéœ€åŠ å¤§å€¾æ–œè§’åº¦ã€‚</p>
                    <div class="science-box">
                        <span class="science-title">ğŸ§  ç§‘å­¦åŸç†ï¼šç¥ç»å¯å¡‘æ€§</span>
                        <span class="science-desc">é¢å¯¹ç‰©ç†ç¯å¢ƒçš„çªå˜ï¼Œå¤§è„‘å¿…é¡»å¿«é€Ÿè°ƒæ•´è‚Œè‚‰æ§åˆ¶ç­–ç•¥ï¼Œé˜²æ­¢ç¥ç»åƒµåŒ–ï¼Œæå‡ååº”çµæ´»æ€§ã€‚</span>
                    </div>
                </div>
                <div class="visual-col">
                    <canvas id="canvas4"></canvas>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="slide-content">
                <div class="text-col">
                    <span class="step-num">Step 05</span>
                    <h2>ç©ºé—´ä¸è®°å¿†</h2>
                    <p>ğŸŒ€ <b>è™«æ´</b>ï¼šè¿›å…¥ç´«è‰²å…¥å£ï¼Œç¬é—´ä»å¦ä¸€ç«¯ç©¿å‡ºï¼Œè¿æ¥æ–­å¼€çš„è·¯å¾„ã€‚<br>
                    ğŸŒ«ï¸ <b>è¿·é›¾</b>ï¼šæ¯3å…³è§†é‡å—é™ï¼Œä½ å¿…é¡»åœ¨è„‘æµ·ä¸­è®°ä½åœ°å›¾å…¨è²Œã€‚</p>
                    <div class="science-box">
                        <span class="science-title">ğŸ§  ç§‘å­¦åŸç†ï¼šæµ·é©¬ä½“æ¿€æ´»</span>
                        <span class="science-desc">éçº¿æ€§ç§»åŠ¨ä¸å¿ƒç†åœ°å›¾æ„å»ºï¼ˆMental Mappingï¼‰æ˜¯é¢„é˜²é˜¿å°”èŒ¨æµ·é»˜ç—…ã€ä¿æŒç©ºé—´å¯¼èˆªèƒ½åŠ›çš„æœ€ä½³è®­ç»ƒã€‚</span>
                    </div>
                </div>
                <div class="visual-col">
                    <canvas id="canvas5"></canvas>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="slide-content">
                <div class="text-col">
                    <span class="step-num">Step 06</span>
                    <h2>é£é™©åšå¼ˆ</h2>
                    <p>æ’å‡» <b>ğŸ é—®å·ç®±</b> æ˜¯å‹‡è€…çš„æ¸¸æˆã€‚<br>
                    ä½ å¯èƒ½è·å¾—<b>é‡‘å¸ã€æ— æ•Œ</b>ï¼Œä¹Ÿå¯èƒ½é­é‡<b>æ“ä½œåå‘ã€æ‰£é’±</b>çš„å„è¿ã€‚</p>
                    <div class="science-box" style="background: rgba(231, 76, 60, 0.1); border-color: #e74c3c;">
                        <span class="science-title" style="color:#e74c3c">ğŸ§  ç§‘å­¦åŸç†ï¼šæƒ…ç»ªè°ƒèŠ‚</span>
                        <span class="science-desc">åœ¨ä¸ç¡®å®šæ€§ä¸­è¯„ä¼°é£é™©ï¼Œå¹¶åœ¨é­é‡å„è¿ï¼ˆå¦‚æ“ä½œçªç„¶åå‘ï¼‰æ—¶ä¿æŒå†·é™ï¼Œå¿«é€Ÿé‡æ„å¤§è„‘æ˜ å°„ã€‚</span>
                    </div>
                    <div style="margin-top:30px;">
                        <button class="btn-start" onclick="enterGame()">å¼€å§‹æŒ‘æˆ˜</button>
                    </div>
                </div>
                <div class="visual-col">
                    <canvas id="canvas6"></canvas>
                </div>
            </div>
        </div>

    </div>

    <div class="controls">
        <button class="btn-nav" id="btnPrev" onclick="prevSlide()">â® ä¸Šä¸€æ­¥</button>
        <div class="dot-nav">
            <div class="dot active" onclick="goToSlide(0)"></div>
            <div class="dot" onclick="goToSlide(1)"></div>
            <div class="dot" onclick="goToSlide(2)"></div>
            <div class="dot" onclick="goToSlide(3)"></div>
            <div class="dot" onclick="goToSlide(4)"></div>
            <div class="dot" onclick="goToSlide(5)"></div>
        </div>
        <button class="btn-nav" id="btnNext" onclick="nextSlide()">ä¸‹ä¸€æ­¥ â¯</button>
    </div>
</div>

<script>
    // --- è½®æ’­é€»è¾‘ ---
    let currentSlide = 0;
    const totalSlides = 6;
    const wrapper = document.getElementById('wrapper');
    const dots = document.querySelectorAll('.dot');
    const btnNext = document.getElementById('btnNext');
    const btnPrev = document.getElementById('btnPrev');

    function updateSlide() {
        wrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
        dots.forEach((d, i) => d.classList.toggle('active', i === currentSlide));
        
        btnPrev.style.opacity = currentSlide === 0 ? '0' : '1';
        btnPrev.style.pointerEvents = currentSlide === 0 ? 'none' : 'auto';
        
        if(currentSlide === totalSlides - 1) {
            btnNext.style.display = 'none';
        } else {
            btnNext.style.display = 'block';
            btnNext.innerText = 'ä¸‹ä¸€æ­¥ â¯';
        }
    }

    function nextSlide() { if(currentSlide < totalSlides - 1) { currentSlide++; updateSlide(); } }
    function prevSlide() { if(currentSlide > 0) { currentSlide--; updateSlide(); } }
    function goToSlide(n) { currentSlide = n; updateSlide(); }
    
    function enterGame() {
        // è·³è½¬åˆ°æ¸¸æˆæ–‡ä»¶
        window.location.href = 'game.html'; 
    }

    // --- åŠ¨ç”»å¼•æ“ (Canvas) ---
    function initDemo(id, renderFn) {
        const canvas = document.getElementById(id);
        const ctx = canvas.getContext('2d');
        
        // è®¾ç½®é€»è¾‘å°ºå¯¸ä¸ç‰©ç†å°ºå¯¸
        const width = 400;
        const height = 300;
        canvas.width = width;
        canvas.height = height;

        // é€‚é… Retina
        const dpr = window.devicePixelRatio || 1;
        const rect = canvas.getBoundingClientRect();
        // åŠ¨æ€è°ƒæ•´ç”»å¸ƒå¤§å°ä»¥é€‚åº” CSS å¸ƒå±€
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        ctx.scale(dpr * (rect.width/width), dpr * (rect.height/height));
        
        // ç›‘å¬çª—å£å¤§å°å˜åŒ–é‡æ–°è®¡ç®—ç¼©æ”¾
        window.addEventListener('resize', () => {
            const r = canvas.getBoundingClientRect();
            canvas.width = r.width * dpr;
            canvas.height = r.height * dpr;
            ctx.scale(dpr * (r.width/width), dpr * (r.height/height));
        });
        
        let frameCount = 0;
        function loop() {
            ctx.clearRect(0, 0, width, height);
            
            // ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯
            ctx.strokeStyle = 'rgba(255,255,255,0.05)'; ctx.lineWidth=1;
            for(let i=0; i<width; i+=40) { ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,height); ctx.stroke(); }
            for(let i=0; i<height; i+=40) { ctx.beginPath(); ctx.moveTo(0,i); ctx.lineTo(width,i); ctx.stroke(); }
            
            renderFn(ctx, frameCount++);
            requestAnimationFrame(loop);
        }
        loop();
    }

    // é€šç”¨ç»˜å›¾åŠ©æ‰‹
    const drawBall = (ctx, x, y, color='#3498db', shield=false) => {
        if(shield) {
            ctx.beginPath(); ctx.arc(x, y, 16, 0, Math.PI*2);
            ctx.strokeStyle='rgba(52, 152, 219, 0.7)'; ctx.lineWidth=3; ctx.stroke();
        }
        ctx.beginPath(); ctx.arc(x, y, 12, 0, Math.PI*2);
        let grad = ctx.createRadialGradient(x-4, y-4, 2, x, y, 12);
        grad.addColorStop(0, '#85c1e9'); grad.addColorStop(1, color);
        ctx.fillStyle = grad; ctx.fill();
        // é˜´å½±
        ctx.beginPath(); ctx.arc(x, y+14, 10, 0, Math.PI*2); ctx.fillStyle='rgba(0,0,0,0.2)'; ctx.fill();
    };
    const drawIcon = (ctx, icon, x, y, size=24) => { 
        ctx.font=`${size}px Arial`; ctx.textAlign='center'; ctx.textBaseline='middle'; ctx.fillStyle='#fff'; ctx.fillText(icon, x, y); 
    };

    // --- Slide 1: ä½“æ„Ÿ ---
    initDemo('canvas1', (ctx, f) => {
        let tilt = Math.sin(f * 0.04) * 0.4;
        ctx.save(); ctx.translate(200, 150);
        
        // æ‰‹æœº
        ctx.save(); ctx.rotate(tilt);
        ctx.strokeStyle = 'rgba(255,255,255,0.9)'; ctx.lineWidth=4;
        ctx.fillStyle = 'rgba(0,0,0,0.5)';
        ctx.beginPath(); ctx.roundRect(-60, -100, 120, 200, 15); ctx.fill(); ctx.stroke();
        // å±å¹•é‡Œçš„çƒ
        drawBall(ctx, tilt * 100, 50);
        ctx.restore();

        // ç®­å¤´
        if(Math.abs(tilt) > 0.1) {
            ctx.fillStyle = '#f1c40f'; ctx.font='40px Arial'; ctx.textAlign='center';
            ctx.fillText(tilt > 0 ? 'â¬…ï¸' : 'â¡ï¸', 0, -130);
        }
        ctx.restore();
    });

    // --- Slide 2: é€»è¾‘ ---
    initDemo('canvas2', (ctx, f) => {
        let cycle = f % 360;
        let bx, by = 150;
        if (cycle < 120) bx = 50 + (cycle/120)*250; // å»æ‹¿é’¥åŒ™
        else if (cycle < 240) bx = 300 - ((cycle-120)/120)*150; // å›å»
        else { bx = 150; by = 150 - ((cycle-240)/120)*100; } // è¿›æ´

        if (cycle < 120) drawIcon(ctx, 'ğŸ”‘', 300, 150, 30);
        
        // é—¨
        if (cycle < 120) {
            ctx.fillStyle='#e74c3c'; ctx.fillRect(130, 80, 40, 20); drawIcon(ctx, 'ğŸ”’', 150, 90, 16);
        } else {
            ctx.strokeStyle='rgba(255,255,255,0.4)'; ctx.setLineDash([5,5]); ctx.strokeRect(130, 80, 40, 20); ctx.setLineDash([]);
        }
        
        // ç»ˆç‚¹
        ctx.beginPath(); ctx.arc(150, 40, 18, 0, Math.PI*2); ctx.fillStyle='#2ecc71'; ctx.fill();
        drawBall(ctx, bx, by);
    });

    // --- Slide 3: ç»æµ (æ ¸å¿ƒ) ---
    initDemo('canvas3', (ctx, f) => {
        let cycle = f % 300;
        let coins = 4; let hasShield = false; let btnActive = false;
        
        if (cycle > 80) coins = 5; 
        if (cycle > 180) { coins = 0; hasShield = true; }
        if (cycle > 170 && cycle < 190) btnActive = true;

        // çƒ
        let bx = cycle < 80 ? 50 + cycle : 130 + Math.sin(f*0.1)*5;
        drawBall(ctx, bx, 100, '#3498db', hasShield);

        // é‡‘å¸
        if (cycle < 80) drawIcon(ctx, 'ğŸŸ¡', 130, 100, 20);
        else if (cycle < 100) { ctx.fillStyle='#f1c40f'; ctx.font='16px Arial'; ctx.fillText("+1", 130, 100-(cycle-80)); }

        // UIæ 
        ctx.fillStyle = 'rgba(0,0,0,0.6)'; ctx.roundRect(40, 220, 320, 60, 10); ctx.fill();
        drawIcon(ctx, 'ğŸŸ¡', 70, 250, 20);
        ctx.fillStyle='white'; ctx.font='bold 20px Arial'; ctx.textAlign='left'; ctx.fillText(`x ${coins}`, 90, 252);

        // å•†åº—æŒ‰é’®
        let canAfford = coins >= 5;
        let btnColor = canAfford ? (btnActive ? '#fff' : '#27ae60') : 'rgba(255,255,255,0.1)';
        ctx.fillStyle = btnColor; ctx.beginPath(); ctx.roundRect(250, 230, 90, 40, 8); ctx.fill();
        drawIcon(ctx, 'ğŸ›¡ï¸', 295, 250, 24);
        if (!hasShield) { ctx.fillStyle = canAfford ? '#fff' : '#e74c3c'; ctx.font='12px Arial'; ctx.fillText("5 G", 325, 260); }
        if (cycle > 180 && cycle < 220) { ctx.fillStyle='#2ecc71'; ctx.font='bold 16px Arial'; ctx.textAlign='center'; ctx.fillText("å·²è£…å¤‡", 295, 215); }
    });

    // --- Slide 4: ç‰©ç† ---
    initDemo('canvas4', (ctx, f) => {
        ctx.fillStyle = 'rgba(135, 206, 250, 0.3)'; ctx.fillRect(20, 60, 360, 60); 
        drawIcon(ctx, 'â„ï¸ ICE', 350, 90, 14);
        ctx.fillStyle = 'rgba(121, 85, 72, 0.4)'; ctx.fillRect(20, 180, 360, 60);
        drawIcon(ctx, 'ğŸ’© MUD', 350, 210, 14);
        let xIce = (f * 5) % 450; 
        let xMud = (f * 1.5) % 450;
        if(xIce < 380) drawBall(ctx, xIce, 90, '#3498db');
        if(xMud < 380) drawBall(ctx, xMud, 210, '#e67e22');
    });

    // --- Slide 5: è™«æ´ ---
    initDemo('canvas5', (ctx, f) => {
        let cycle = f % 240;
        ctx.fillStyle='#9b59b6'; ctx.beginPath(); ctx.arc(80, 150, 25, 0, Math.PI*2); ctx.fill();
        ctx.fillStyle='#8e44ad'; ctx.beginPath(); ctx.arc(320, 150, 25, 0, Math.PI*2); ctx.fill();
        ctx.strokeStyle='white'; ctx.lineWidth=2;
        ctx.beginPath(); ctx.arc(80, 150, 20, f*0.1, f*0.1+2); ctx.stroke();
        ctx.beginPath(); ctx.arc(320, 150, 20, -f*0.1, -f*0.1+2); ctx.stroke();
        
        let bx, alpha = 1;
        if (cycle < 80) bx = cycle; 
        else if (cycle < 100) { bx = 80; alpha = 1 - (cycle-80)/20; }
        else if (cycle < 120) { bx = 320; alpha = (cycle-100)/20; }
        else bx = 320 + (cycle-120);
        
        ctx.globalAlpha = alpha; drawBall(ctx, bx, 150); ctx.globalAlpha = 1;
        
        if (f % 400 > 250) {
            let g = ctx.createRadialGradient(200, 150, 40, 200, 150, 250);
            g.addColorStop(0, 'transparent'); g.addColorStop(1, 'rgba(20,20,30,0.95)');
            ctx.fillStyle = g; ctx.fillRect(0,0,400,300);
            ctx.fillStyle='white'; ctx.font='20px Arial'; ctx.textAlign='center'; ctx.fillText("è¿·é›¾æ¨¡å¼: è®°å¿†åœ°å›¾!", 200, 250);
        }
    });

    // --- Slide 6: ç›²ç›’ ---
    initDemo('canvas6', (ctx, f) => {
        let cycle = f % 240;
        let boxX = 200, boxY = 150;
        let hit = cycle > 100;
        
        if (!hit) {
            ctx.fillStyle = '#f39c12'; ctx.fillRect(boxX-20, boxY-20, 40, 40);
            ctx.strokeStyle = '#fff'; ctx.lineWidth=2; ctx.strokeRect(boxX-20, boxY-20, 40, 40);
            drawIcon(ctx, '?', boxX, boxY, 30);
            drawBall(ctx, 50 + cycle * 1.5, 150);
        } else {
            let isBad = (Math.floor(f/240)%2 === 1);
            let icon = isBad ? 'ğŸ˜ˆ' : 'ğŸ’°';
            let offset = cycle - 100;
            drawIcon(ctx, icon, boxX, boxY - offset, 40);
            let ballColor = isBad ? '#e74c3c' : '#3498db';
            drawBall(ctx, 200 - offset, 150, ballColor);
            if(isBad) { ctx.font='16px Arial'; ctx.fillStyle='#e74c3c'; ctx.textAlign='center'; ctx.fillText("åå‘æ“ä½œ!", 200, 220); }
        }
    });

</script>
</body>
</html>
